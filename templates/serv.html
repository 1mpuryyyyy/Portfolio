{% extends 'about.html' %}
{% block serv_block %}
<div class="div">
    {% for elem in elems %}
    <div class="card" id="card" style="width: 18rem;">
        {% if elem == 'Написание БД' %}
        <div class="cards"><img
                src="https://media.proglib.io/posts/2020/01/08/46bffee5579093709253d7ec0674e8af.jpg"
                class="card-img-top"
                alt="{{ elem }}"></div>
        <div class="card-body">
            <h5 class="card-title">{{ elem }}</h5>
            <p class="card-text">База данных – используются для хранения данных вашего приложения, могут содержать в
                себе огромное количество записей, что очень удобно для создания, например, сайтов.</p>
            <div class="for_div">
                <form action="" class="myForm" onsubmit="event.preventDefault();" method="post">
                    <input class="btn-success" type="submit"  name="service" onclick="chpok()">
                </form>
            </div>
        </div>

        {% endif %}
        {% if elem == 'Верстка сайта' %}
        <div class="cards">
            <img src="https://cdn.freelance.ru/img/portfolio/pics/00/38/8B/3705778.jpg?mt=adfdf857" class="card-img-top"
                 alt="{{ elem }}"></div>
        <div class="card-body">
            <h5 class="card-title">{{ elem }}</h5>
            <p class="card-text">Вёрстка сайта — это процесс переноса вашего прототипа в готовый проект. Выделяются два
                типа разработчиков</p>
            <div class="for_div">
                <form action="" class="myForm" onsubmit="event.preventDefault();" method="post">
                    <input class="btn-success" type="submit"  name="service" onclick="chpok()"
                           value="{{elem}}">
                </form>
            </div>
        </div>

        {% endif %}
        {% if elem == 'Монтаж видео' %}
        <div class="cards"><img src="https://frankfurt.apollo.olxcdn.com/v1/files/12y1k7hlvio63-KZ/image;s=1000x750"
                                class="card-img-top"
                                alt="{{ elem }}"></div>
        <div class="card-body">
            <h5 class="card-title">{{ elem }}</h5>
            <p class="card-text">Творческий и технический процесс в кинематографе, на телевидении или звукозаписывающих
                студиях, позволяющий в результате соединения отдельных фрагментов исходных записей получить единое,
                композиционно цельное произведение.</p>
            <div class="for_div">
                <form action="" class="myForm" onsubmit="event.preventDefault();" method="post">
                    <input class="btn-success" type="submit"  name="service" onclick="chpok()"
                           value="{{elem}}">
                </form>
            </div>
        </div>
        {% endif %}
        {% if elem == 'Видеосъемка' %}
        <div class="cards"><img src="https://autobort.ru/wp-content/uploads/2023/01/video2.jpg" class="card-img-top"
                                alt="{{ elem }}"></div>
        <div class="card-body">
            <h5 class="card-title">{{ elem }}</h5>
            <p class="card-text">Видео съёмка — наша команда выезжает на заданный вам объект с профессиональной
                техникой, отсняты видеоматериал — будет отправлен на любой, удобный вам сервис.</p>
            <div class="for_div">
                <form action="" class="myForm" onsubmit="event.preventDefault();" method="post">
                    <input class="btn-success" type="submit" id="service" name="service" onclick="chpok()"
                           value="{{elem}}">
                </form>
            </div>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</div>
<div id="iphone">
    <header class="header">
        <h1>Сделать заказ</h1>
    </header>

    <form class="form" method="POST" enctype='multipart/form-data'>
        <div class="inputbox">
            <input type="number" name="number" placeholder="x xxx xxx xx xx"
                   pattern="+7[0-9]{3}[0-9]{3}[0-9]{2}  [0-9]{2}" id="number">
            <label for=""><h2> Номер телефона</h2></label>
        </div>
        <div>

            <label class="input-file"><h2>Загрузите ваши фотографии на сервер</h2>
                <span class="input-file-text" type="text"></span>
                <input type="file" name="photo[]" multiple accept="image/*,image/jpeg">
                <span class="input-file-btn">Выберите файл</span>
            </label>
        </div>
        <div>

            <div class="crd">
                <label for="story"><h2>Опишите услугу:</h2></label>
                <textarea id="story" name="about_serv"
                          rows="5" cols="33">
</textarea>

            </div>
        </div>

        <div>
            <button class="button button--full" type="submit">
                <svg class="icon">
                    <use xlink:href="#icon-shopping-bag"/>
                </svg>
                Заказать
            </button>
        </div>
    </form>
</div>

<svg xmlns="http://www.w3.org/2000/svg" style="display: none">

    <symbol id="icon-shopping-bag" viewBox="0 0 24 24">
        <path d="M20 7h-4v-3c0-2.209-1.791-4-4-4s-4 1.791-4 4v3h-4l-2 17h20l-2-17zm-11-3c0-1.654 1.346-3 3-3s3 1.346 3 3v3h-6v-3zm-4.751 18l1.529-13h2.222v1.5c0 .276.224.5.5.5s.5-.224.5-.5v-1.5h6v1.5c0 .276.224.5.5.5s.5-.224.5-.5v-1.5h2.222l1.529 13h-15.502z"/>
    </symbol>
</svg>
<script src="https://snipp.ru/cdn/jquery/2.1.1/jquery.min.js"></script>
<script>
$('.input-file input[type=file]').on('change', function(){
	let file = this.files[0];
	$(this).closest('.input-file').find('.input-file-text').html(file.name);
});
</script>

<script>
function chpok(){
    let elem = document.getElementById('card'); //находим блок div по его id, который передали в функцию
    let state = elem.style.display; //смотрим, включен ли сейчас элемент
    document.getElementById("iphone").style.display = "block";

    if (state =='') {
      let elem_main = document.querySelectorAll('.card');

      elem_main.forEach(el => {
        el.style.display='none'; //если включен, то выключаем
      })
    }


    //else elem.style.display=''; //иначе - включаем
}


var form = document.getElementsByClassName("myForm");
function handleForm(event) { event.preventDefault(); }
form.addEventListener('submit', handleForm);
</script>
{% endblock %}